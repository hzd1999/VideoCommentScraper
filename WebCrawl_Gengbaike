{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [],
   "source": [
    "import numpy as np\n",
    "import pandas as pd\n",
    "import requests\n",
    "import urllib.request\n",
    "from urllib.request import urlopen\n",
    "from bs4 import BeautifulSoup \n",
    "import requests"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [],
   "source": [
    "url = \"https://gengbaike.cn/category-view-13.html\"\n",
    "res = requests.get(url)\n",
    "res.encoding = \"UTF-8\"\n",
    "html = res.text\n",
    "words = html.split('<dl class=\"col-dl\">')[1:]\n",
    "words[-1] = words[-1].split(\"[阅读全文]\")[0]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [],
   "source": [
    "def parseReview(review):\n",
    "    d = {}\n",
    "    d[\"word\"] = review.split('.html\" >')[1].split(\"</a>\")[0];\n",
    "    d[\"def\"] = review.split('摘要: ')[1].split(\"<a \")[0].replace(\"\\u200c\", \"\");\n",
    "    return d\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [],
   "source": [
    "#Crawling\n",
    "all_words = []\n",
    "for i in range(1,20):\n",
    "    url = \"https://gengbaike.cn/category-view-13-\" + str(i) + \".html\"\n",
    "    res = requests.get(url)\n",
    "    res.encoding = \"UTF-8\"\n",
    "    html = res.text\n",
    "    words = html.split('<dl class=\"col-dl\">')[1:]\n",
    "    words[-1] = words[-1].split(\"[阅读全文]\")[0]\n",
    "    words = [parseReview(r) for r in words]\n",
    "    all_words = all_words + words"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "print(len(all_words))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "打脸且翻车\n",
      "延边八爪鱼\n",
      "ball ball you\n",
      "60e\n",
      "输的什么液想你的夜\n",
      "菜是原罪\n",
      "沉浸式约饭\n",
      "还不曾去过倒悬山\n",
      "剧怒症\n",
      "高街女帝\n",
      "希望你永远不懂\n",
      "肌肉金轮\n",
      "炸洗我了\n",
      "运费过敏\n",
      "社交工具人\n",
      "北上广曹\n",
      "谢谢你米哈游\n",
      "privilege\n",
      "外卷\n",
      "蚝爹油\n",
      "曹县\n",
      "山东菏泽曹县\n",
      "天黑啦天黑啦钓鱼的回家吧\n",
      "钢琴住了几个妖\n",
      "工业糖精\n",
      "歪歪滴艾斯\n",
      "石头剪刀布倒着说\n",
      "卑微文学\n",
      "人与人的连结\n",
      "上班过敏\n",
      "百合骑士\n",
      "胃疼剧情\n",
      "小脑袋瓜热昏头了\n",
      "小龙虾我们走\n",
      "两面包夹芝士\n",
      "感谢联通\n",
      "中国人的八大原谅\n",
      "夏天的第一个冰淇淋\n",
      "就是玩儿\n",
      "眼睛里进砖头了\n",
      "别叫我达芬奇1分17秒\n",
      "人间的青草地需要浇水\n",
      "培里培气\n",
      "社会内卷化\n",
      "笑死了但没完全笑死\n",
      "加拿大的海没有岸\n",
      "丫头文学\n",
      "心疼giegie\n",
      "逆天邪神更新了\n",
      "皮筋泡可乐\n",
      "恒河猴\n",
      "这是你家高粱饴吗\n",
      "成人的世界没有愚人节只有Q2\n",
      "于是转身向山里走去\n",
      "什么是快乐星球\n",
      "giegie\n",
      "基金牛蛙\n",
      "嘉禾望岗\n",
      "人间破壁机\n",
      "姜还是老的rua\n",
      "洛阳铲\n",
      "感情是对抗路的大忌\n",
      "嘎嘎以嘎斯\n",
      "岚语\n",
      "墨西哥牛油果\n",
      "油条cp\n",
      "每个人身上都有毛毛\n",
      "赘婿吉吉国王\n",
      "背后的原因却很暖心\n",
      "笋都被你夺完了\n",
      "咒力没用完可以放冰箱吗\n",
      "全国人民都看得到\n",
      "费拉不堪\n",
      "这里是缅甸北部\n",
      "龙丹妮倍儿牛\n",
      "闹挺大\n",
      "伤害性不大侮辱性极强\n",
      "炒冷饭\n",
      "中了抖音的毒\n",
      "精苏\n",
      "肉蛋奶警告\n",
      "太好孝了\n",
      "原年人\n",
      "盒马配送员\n",
      "亲爱的周游\n",
      "被邻居大妈支配的恐惧\n",
      "店无书砸\n",
      "小美我的美\n",
      "蚌埠住了\n",
      "人间造妈机\n",
      "幸好我不识字\n",
      "饭锅炸了\n",
      "饭锅爆炸\n",
      "印尼的雷\n",
      "前方低能\n",
      "深圳女孩\n",
      "小丑竟是我自己\n",
      "四斤大豆三根皮带\n",
      "心中无女人拔刀自然神\n",
      "沙口\n",
      "龙岗无敌手\n",
      "全糖去冰\n",
      "立旗人\n",
      "你又在山海经的哪一页\n",
      "冬天第一颗草莓\n",
      "跨年那天不要穿内裤\n",
      "蛋饺肉丝\n",
      "马言马语\n",
      "有bear来\n",
      "凡尔撒\n",
      "找个厂子上班\n",
      "男腾讯恋和爱姬艺\n",
      "爷青回\n",
      "两行白泪上青天\n",
      "相辱以墨\n",
      "去码头整点薯条\n",
      "干饭人\n",
      "吃圭人\n",
      "天气卡组\n",
      "痛苦面具\n",
      "五哈原则\n",
      "人间直尺\n",
      "反向凡尔赛文学\n",
      "综艺之神\n",
      "冬天的第一根糖葫芦\n",
      "塌房人\n",
      "凡学家\n",
      "凡尔赛文学\n",
      "凡尔赛文学家\n",
      "凡尔赛式爱情\n",
      "万物皆可凡尔赛\n",
      "yyds\n",
      "大司马八分钟预言\n",
      "秋天的第一个包包\n",
      "独轮车\n",
      "弹幕独轮车\n",
      "双11打挺人\n",
      "南方加绒人\n",
      "冬天的第一个苹果\n",
      "依萍如洗\n",
      "破递为笑\n",
      "李姓消费\n",
      "我是新手，怎样编写词条\n",
      "老北京鸡内卷\n",
      "鸡内卷\n",
      "人类的本质是内卷\n",
      "清华内卷\n",
      "万物皆可内卷\n",
      "内卷\n",
      "请停止你的内卷行为\n",
      "拔丝吻\n",
      "年轻人不讲武德\n",
      "你已经是个成熟的软件了\n",
      "长鹅\n",
      "打听打听谁是爹\n",
      "拿红绳原地结婚\n",
      "真还传\n",
      "秋天的第一个柚子\n",
      "爱的结石\n",
      "放飞小高\n",
      "收手吧阿祖\n",
      "黄浦江捞猪\n",
      "虎两千\n",
      "简灯笼\n",
      "当狗中单\n",
      "8888冠军林\n",
      "我喜欢发育\n",
      "无畏澡八强\n",
      "我们来削刀妹吧\n",
      "大宝剑\n",
      "你永远可以相信宋义进\n",
      "野区栓条狗都能赢\n",
      "电竞翠神\n",
      "电竞唢呐\n",
      "淘宝战士\n",
      "我要去搬砖了\n",
      "谢谢你小杨生煎\n",
      "奈雪女孩\n",
      "这一枪叫做晚安\n",
      "尾款人\n",
      "打工人\n",
      "早八人\n",
      "冰冻罗非鱼警告\n",
      "生孩子警告\n",
      "爬山警告\n",
      "富婆快乐球\n",
      "钢丝球\n",
      "钢丝球警告\n",
      "不胖警告\n",
      "真好警告\n",
      "鸡笼警告\n",
      "鸭笼警告\n",
      "滋醒警告\n",
      "热狗警告\n",
      "飞刀警告\n",
      "谢罪警告\n",
      "律师函警告\n",
      "漂亮警告\n",
      "泰拳警告\n",
      "lsp\n",
      "老色批\n",
      "老污龟\n",
      "让1更1让0更0\n",
      "十五的月亮16元\n",
      "985头\n",
      "泥头车\n",
      "喝奶茶请小声一点\n",
      "秋天的第一打啤酒\n",
      "肉蛋葱鸡\n",
      "手游坟场\n",
      "b站钢琴内卷\n",
      "秋天的第一杯奶茶\n",
      "在冒拆懂\n",
      "1818造星工厂\n",
      "石上真男人\n",
      "美国菩萨\n",
      "我太难了\n",
      "被迫海王\n",
      "别用衣架晾口罩\n",
      "大兴西北\n",
      "负债调音师\n",
      "发烂发臭\n",
      "无脑下单\n",
      "人类还有希望吗\n",
      "朔花香芳僻\n",
      "一个人的全家福\n",
      "开屏暴击\n",
      "联系我们\n",
      "如果这都不算爱\n",
      "摄影师晚餐加根鸡腿\n",
      "摄影师你明天不用来上班了\n",
      "银梦厨\n",
      "CV都是怪物\n",
      "声优都是怪物\n",
      "肝败吓疯\n",
      "是在下输了\n",
      "文明观奶\n",
      "文明观球\n",
      "我不要看繁星\n",
      "我敬你是条汉子\n",
      "我又出生了\n",
      "我出生了\n",
      "祥瑞御免\n",
      "想多了\n",
      "小别致长得真东西\n",
      "小东西长得真别致\n",
      "一人一勺不许多喝\n",
      "一人一口\n",
      "口袋饱饱\n",
      "初来乍到，了解一下\n",
      "我要成为词条达人\n",
      "内容过于真实引起不适\n",
      "内容引起极度舒适\n",
      "这腿我能玩一年\n",
      "缘妙不可言\n",
      "张口闭眼女\n",
      "张口闭眼男\n",
      "张口闭眼\n",
      "外国人少是有原因的\n",
      "这么可爱一定是男孩子\n",
      "人干事\n",
      "这是人干的事吗\n",
      "如果奇迹有颜色那一定是橙色\n",
      "字幕组调皮了\n",
      "笑容由我来守护\n",
      "国欠妹\n",
      "夫人我喜欢你啊\n",
      "新人都是怪物\n",
      "别光喝酒吃菜啊\n",
      "​几个菜啊喝成这样\n",
      "但花不至\n",
      "七夕布谷鸟\n",
      "七夕青蛙\n",
      "手撕大白鲨\n",
      "妈已经走十年了\n",
      "小脑斧\n",
      "当然是选择原谅她啊\n",
      "我能怎么办我也很绝望啊\n",
      "老哥稳\n",
      "请开始你的表演\n",
      "你有freestyle吗\n",
      "颜表妻\n",
      "颜表立\n",
      "知世就是力量\n",
      "中文十级\n",
      "船新版本\n",
      "屌注孤\n",
      "注孤生\n",
      "震惊体\n",
      "谢谢茄子\n",
      "我点了\n",
      "你怎么这个亚子\n",
      "小孩子才做选择题\n",
      "难道只有我一个人觉得\n",
      "天凉王破\n",
      "抽象圣经\n",
      "nmsl\n",
      "儒雅随和\n",
      "恭喜这个b站用户\n",
      "芦苇tv\n",
      "有丶东西\n",
      "不灭之握\n",
      "带带大师兄\n",
      "C位出道\n",
      "C位出殡\n",
      "雨女无瓜\n",
      "要你寡\n",
      "来了老弟\n",
      "像极了爱情\n",
      "你安利的样子像极了骗子\n",
      "紫腚能行\n",
      "咖喱人\n",
      "要吃饭的嘛\n",
      "你怎么回事老弟\n",
      "你说你马呢\n",
      "那你去物管啊\n",
      "要我一直笑吗\n",
      "摇了我吧\n",
      "安排上了\n",
      "人人都说抽象话 再无人识李老八\n",
      "6324\n",
      "司马脸\n",
      "我佛了\n",
      "嗨粉\n",
      "狗粉\n",
      "狗粉丝\n",
      "家乡的樱花开了\n",
      "黑人问号\n",
      "还有这种操作\n",
      "意不意外惊不惊喜\n",
      "你的良心不会痛吗\n",
      "皮皮虾我们走\n",
      "扎心了老铁\n",
      "小拳拳捶你胸口\n",
      "真香定律\n",
      "宁王圣经\n",
      "股间强打\n",
      "雨你无瓜\n",
      "真香\n",
      "真香警告\n",
      "你号没了\n",
      "可以但没必要\n",
      "家乡的sakura开了\n",
      "开始自闭\n",
      "我自闭了\n",
      "自闭\n",
      "得不到我的认可\n",
      "搞快点\n",
      "那你很棒哦\n",
      "奶茶肚\n",
      "gkd\n",
      "滚出克\n",
      "gck\n",
      "kkp\n",
      "看看批\n",
      "盘她\n",
      "我怀疑你在搞黄色但是我没有证据\n",
      "盘你\n",
      "搞黄色\n",
      "这不是去幼儿园的车\n",
      "蹦野迪\n",
      "渣男会呼吸\n",
      "这谁顶得住啊\n",
      "人人\n",
      "kkj\n"
     ]
    }
   ],
   "source": [
    "for j in range(1,len(all_words)):\n",
    "    print(all_words[j][\"word\"])\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {},
   "outputs": [],
   "source": [
    "import csv,codecs\n",
    "f = codecs.open('GengBaike.csv','w','utf_8_sig')\n",
    "word_writer = csv.writer(f)\n",
    "for j in range(1,len(all_words)):\n",
    "#         print(all_words[j][\"word\"])\n",
    "    word_writer.writerow([all_words[j][\"word\"], all_words[j][\"def\"]])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "import csv，codecs\n",
    "\n",
    "with open('GengBaiKe.csv', mode='w') as word_file:\n",
    "    word_writer = csv.writer(word_file, delimiter=',', quotechar='\"', quoting=csv.QUOTE_MINIMAL)\n",
    "    for j in range(1,len(all_words)):\n",
    "#         print(all_words[j][\"word\"])\n",
    "        word_writer.writerow([all_words[j][\"word\"], all_words[j][\"def\"]])"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.4"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
